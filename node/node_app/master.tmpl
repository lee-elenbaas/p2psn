<% c++ #include "../node_app/content.h" %>
<% c++ using namespace p2psn::node_app; %>
<% xhtml %>
<% skin ptp2n_node_app_skin %>
<% view master uses content::master %>

<% template title() %>
	<%= title %>
<% end template %>

<% template page_content() %>
<% c++ /* Override  Me */ %>
<% end template %>

<% template menu_content() %>
<li><a href='<% url "/" %>'>Info</a></li>
<li><a href='<% url "/about" %>'>About</a></li>
<% end template %>

<% template menu() %>
<div id="navigation">
<ul>
<% include menu_content() %>
<% if is_guest %>
<li><a href='<% url "/login" %>'>Login</a></li>
<% else %>
<li><a href='<% url "/admin" %>'>Admin</a></li>
<li><a href='<% url "/logout" %>'>Logout</a></li>
<% end %>
</ul>
</div>
<% end template %>

<% template messages() %>
<% foreach msg in user_messages %>
<div id="messages">
<ul>
<% item %>
<li class="<%= msg.css %>"><%= msg.message %></li>
<% end %>
</ul>
</div>
<% end %>
<% end template %>

<% template header() %>
<!DOCTYPE html>
<html>
<head>
    <title><% include title() %></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<% include menu() %>
<h1><% include title() %></h1>
<% include breadcrumbs() %>
<% end template %>

<% template footer() %>
<% include messages() %>
</body>
</html>
<% end template %>

<% template render() %>
<% include header() %>
<div id="content">
<% include page_content() %>
</div>
<% include footer() %>
<% end template %> 

<% end view %>
<% end skin %>
